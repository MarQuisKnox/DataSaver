/*
 * jQuery DataSaver plugin 0.0.1 
 * 
 * Author: Seleznev Alexander (ABSENT) 
 * Email: absenteg@gmail.com 
 * Website: http://whoisabsent.ru 
 *  
 * Licensed under the MIT license. 
 * http://www.opensource.org/licenses/mit-license.php 
 */
(function(c){function l(a,b,d){h(a);"undefined"!==typeof d&&0<d.length&&(d=d.split(",").join(" "),c(a).on(d,function(b){e(a)}));"number"===typeof b&&0<b&&setInterval(function(){e(a)},b)}function e(a){var b=f(a),d;switch(a.tagName){case "INPUT":switch(c(a).attr("type").toUpperCase()){case "CHECKBOX":d=c(a).prop("checked");break;case "RADIO":d=c(a).val();break;default:d=c(a).val()}break;case "SELECT":d=c(a).val();break;case "TEXTAREA":d=c(a).val()}"undefined"!==typeof d&&(localStorage[b]=d)}function h(a){var b=
f(a),b=localStorage[b];if(null!=b)switch(a.tagName){case "INPUT":switch(c(a).attr("type").toUpperCase()){case "CHECKBOX":c(a).prop("checked","true"===b);break;case "RADIO":c("input[type=radio][name="+a.name+"][value="+b+"]").prop("checked",!0);break;default:c(a).val(b)}break;case "SELECT":b=b.split(",");c(a).val(b);break;case "TEXTAREA":c(a).val(b)}}function f(a){var b=a.storageKey;if("undefined"===typeof b){var b={host:window.location.host,pathname:window.location.pathname},d={tagName:a.tagName,
name:a.name};c(a).is(":radio")?d.type=a.type:(d.id=a.id,d.className=a.className);b=[k,JSON.stringify(b),JSON.stringify(d)].join(".");a.storageKey=b}return b}var k="DataSaver",g={init:function(a){var b=c.extend({timeout:0,events:"change"},a);return this.each(function(a,c){l(c,b.timeout,b.events)})},load:function(){return this.each(function(a,b){h(b)})},save:function(){return this.each(function(a,b){e(b)})},remove:function(){return this.each(function(a,b){var c=f(b);localStorage.removeItem(c)})}};c.fn.DataSaver=
function(a){"undefined"===typeof Storage&&c.error("Your browser doesn't support web storage.");if(g[a])return g[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)c.error('Method "'+a+'" does not exist on '+k+".");else return g.init.apply(this,arguments)}})(jQuery);